<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marcenaria Pro - Sistema de Gestão</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- Overlay para Mobile -->
    <div id="mobile-overlay" onclick="toggleSidebar()" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden lg:hidden transition-opacity"></div>

    <!-- Loading -->
    <div id="loading" class="fixed inset-0 bg-madeira-escura flex items-center justify-center z-50">
        <div class="text-center">
            <div class="w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
            <p class="text-white text-lg">Carregando Marcenaria Pro...</p>
        </div>
    </div>

    <div class="flex h-screen overflow-hidden">
        <!-- Sidebar -->
        <aside id="sidebar" class="w-64 bg-cinza-escuro text-white flex flex-col transition-all duration-300 transform -translate-x-full lg:translate-x-0 fixed lg:relative h-full z-40">
            <div class="p-4 border-b border-gray-600">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-madeira-media rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="font-bold text-lg">Marcenaria Pro</h1>
                        <p class="text-xs text-gray-400">Gestão Completa</p>
                    </div>
                </div>
            </div>
            
            <nav class="flex-1 overflow-y-auto py-4">
                <ul class="space-y-1 px-3">
                    <li>
                        <button onclick="showSection('dashboard')" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 transition-colors text-gray-300 hover:text-white">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>
                            <span>Dashboard</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('projetos')" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 transition-colors text-gray-300 hover:text-white">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path></svg>
                            <span>Projetos</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('estoque')" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 transition-colors text-gray-300 hover:text-white">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg>
                            <span>Estoque</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('clientes')" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 transition-colors text-gray-300 hover:text-white">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                            <span>Clientes</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('financeiro')" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 transition-colors text-gray-300 hover:text-white">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <span>Financeiro</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('agenda')" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 transition-colors text-gray-300 hover:text-white">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                            <span>Agenda</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('calculadora')" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 transition-colors text-gray-300 hover:text-white">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>
                            <span>Calculadora</span>
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('cortes')" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 transition-colors text-gray-300 hover:text-white">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758a3 3 0 10-4.243-4.243 3 3 0 004.243 4.243z"></path></svg>
                            <span>Cortes (OS)</span>
                        </button>
                    </li>
                    <li class="pt-2 mt-2 border-t border-gray-600">
                        <p class="px-3 py-1 text-xs text-gray-500 uppercase">Contabilidade</p>
                    </li>
                    <li>
                        <button onclick="showSection('contabilidade')" class="nav-item w-full flex items-center gap-3 px-3 py-2.5 rounded-lg hover:bg-gray-700 transition-colors text-gray-300 hover:text-white">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>
                            <span>Contabilidade</span>
                        </button>
                    </li>
                </ul>
            </nav>
            
            <div class="p-4 border-t border-gray-600">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-madeira-media rounded-full flex items-center justify-center text-sm font-semibold">JM</div>
                    <div>
                        <p class="text-sm font-medium">João Machado</p>
                        <p class="text-xs text-gray-400">Administrador</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 overflow-y-auto bg-gray-100">
            <!-- Header Mobile -->
            <header class="lg:hidden bg-cinza-escuro text-white p-4 flex items-center justify-between">
                <button onclick="toggleSidebar()" class="p-2 hover:bg-gray-700 rounded-lg">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                </button>
                <h1 class="font-bold">Marcenaria Pro</h1>
                <div class="w-8"></div>
            </header>

            <!-- Dashboard Section -->
            <section id="dashboard" class="section p-6 fade-in">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-800">Visão Geral</h2>
                    <p class="text-gray-500">Resumo da sua marcenaria</p>
                </div>

                <!-- Cards Financeiros -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                    <div class="bg-white rounded-xl p-5 shadow-sm border-l-4 border-green-500">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-gray-500 text-sm">Contas a Receber</p>
                                <p class="text-2xl font-bold text-gray-800">R$ 45.800</p>
                            </div>
                            <div class="p-2 bg-green-100 rounded-lg">
                                <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            </div>
                        </div>
                        <p class="text-green-600 text-sm mt-2">+12% este mês</p>
                    </div>
                    <div class="bg-white rounded-xl p-5 shadow-sm border-l-4 border-red-500">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-gray-500 text-sm">Contas a Pagar</p>
                                <p class="text-2xl font-bold text-gray-800">R$ 18.500</p>
                            </div>
                            <div class="p-2 bg-red-100 rounded-lg">
                                <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                            </div>
                        </div>
                        <p class="text-gray-500 text-sm mt-2">Vencimento: 15/dez</p>
                    </div>
                    <div class="bg-white rounded-xl p-5 shadow-sm border-l-4 border-madeira-media">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-gray-500 text-sm">Saldo do Caixa</p>
                                <p class="text-2xl font-bold text-gray-800">R$ 27.300</p>
                            </div>
                            <div class="p-2 bg-amber-100 rounded-lg">
                                <svg class="w-6 h-6 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            </div>
                        </div>
                        <p class="text-green-600 text-sm mt-2">+8% vs último mês</p>
                    </div>
                    <div class="bg-white rounded-xl p-5 shadow-sm border-l-4 border-blue-500">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-gray-500 text-sm">Projetos em Andamento</p>
                                <p class="text-2xl font-bold text-gray-800">12</p>
                            </div>
                            <div class="p-2 bg-blue-100 rounded-lg">
                                <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg>
                            </div>
                        </div>
                        <p class="text-gray-500 text-sm mt-2">3 com entrega esta semana</p>
                    </div>
                </div>

                <!-- Gráfico e Ordens -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Gráfico de Produção -->
                    <div class="lg:col-span-2 bg-white rounded-xl p-5 shadow-sm">
                        <h3 class="font-semibold text-gray-800 mb-4">Produção Semanal</h3>
                        <div class="flex items-end justify-between h-48 px-4">
                            <div class="flex flex-col items-center">
                                <div class="w-12 bg-madeira-media rounded-t-lg transition-all duration-500" style="height: 60%"></div>
                                <p class="text-xs text-gray-500 mt-2">Seg</p>
                            </div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 bg-madeira-media rounded-t-lg transition-all duration-500" style="height: 85%"></div>
                                <p class="text-xs text-gray-500 mt-2">Ter</p>
                            </div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 bg-madeira-media rounded-t-lg transition-all duration-500" style="height: 45%"></div>
                                <p class="text-xs text-gray-500 mt-2">Qua</p>
                            </div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 bg-madeira-media rounded-t-lg transition-all duration-500" style="height: 90%"></div>
                                <p class="text-xs text-gray-500 mt-2">Qui</p>
                            </div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 bg-madeira-media rounded-t-lg transition-all duration-500" style="height: 75%"></div>
                                <p class="text-xs text-gray-500 mt-2">Sex</p>
                            </div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 bg-gray-300 rounded-t-lg transition-all duration-500" style="height: 30%"></div>
                                <p class="text-xs text-gray-500 mt-2">Sáb</p>
                            </div>
                            <div class="flex flex-col items-center">
                                <div class="w-12 bg-gray-300 rounded-t-lg transition-all duration-500" style="height: 20%"></div>
                                <p class="text-xs text-gray-500 mt-2">Dom</p>
                            </div>
                        </div>
                        <div class="flex justify-center gap-6 mt-4">
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 bg-madeira-media rounded"></div>
                                <span class="text-sm text-gray-600">Peças Produzidas</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 bg-green-500 rounded"></div>
                                <span class="text-sm text-gray-600">Meta: 150</span>
                            </div>
                        </div>
                    </div>

                    <!-- Ordens de Serviço em Aberto -->
                    <div class="bg-white rounded-xl p-5 shadow-sm">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-semibold text-gray-800">OS em Aberto</h3>
                            <span class="bg-red-100 text-red-600 px-2 py-1 rounded-full text-xs font-medium">5 urgent</span>
                        </div>
                        <div class="space-y-3 overflow-y-auto max-h-64">
                            <div class="p-3 bg-red-50 rounded-lg border-l-4 border-red-500">
                                <div class="flex justify-between">
                                    <p class="font-medium text-gray-800">OS-2024-156</p>
                                    <span class="text-xs text-red-600">HOJE</span>
                                </div>
                                <p class="text-sm text-gray-600">Armário Copa - Casa Silva</p>
                                <div class="mt-2">
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-madeira-media h-2 rounded-full" style="width: 80%"></div>
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1">80% concluído</p>
                                </div>
                            </div>
                            <div class="p-3 bg-amber-50 rounded-lg border-l-4 border-amber-500">
                                <div class="flex justify-between">
                                    <p class="font-medium text-gray-800">OS-2024-155</p>
                                    <span class="text-xs text-amber-600">AMANHÃ</span>
                                </div>
                                <p class="text-sm text-gray-600">Roupeiro 4 portas - apt 32</p>
                                <div class="mt-2">
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-madeira-media h-2 rounded-full" style="width: 60%"></div>
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1">60% concluído</p>
                                </div>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-lg border-l-4 border-gray-400">
                                <div class="flex justify-between">
                                    <p class="font-medium text-gray-800">OS-2024-154</p>
                                    <span class="text-xs text-gray-500">15/dez</span>
                                </div>
                                <p class="text-sm text-gray-600">Mesa de Jantar 8 lugares</p>
                                <div class="mt-2">
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-madeira-media h-2 rounded-full" style="width: 40%"></div>
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1">40% concluído</p>
                                </div>
                            </div>
                            <div class="p-3 bg-gray-50 rounded-lg border-l-4 border-gray-400">
                                <div class="flex justify-between">
                                    <p class="font-medium text-gray-800">OS-2024-153</p>
                                    <span class="text-xs text-gray-500">18/dez</span>
                                </div>
                                <p class="text-sm text-gray-600">Estante para Livros</p>
                                <div class="mt-2">
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-madeira-media h-2 rounded-full" style="width: 25%"></div>
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1">25% concluído</p>
                                </div>
                            </div>
                        </div>
                        <button class="w-full mt-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm">
                            Ver todas as Ordens
                        </button>
                    </div>
                </div>
            </section>

            <!-- Projetos Section -->
            <section id="projetos" class="section hidden p-6 fade-in">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Projetos</h2>
                        <p class="text-gray-500">Gerencie seus projetos e produções</p>
                    </div>
                    <div class="flex gap-2">
                        <div class="flex bg-gray-200 rounded-lg p-1">
                            <button onclick="toggleView('list')" id="btnListView" class="px-4 py-1.5 rounded-md bg-white shadow-sm text-sm font-medium transition-all">Lista</button>
                            <button onclick="toggleView('kanban')" id="btnKanbanView" class="px-4 py-1.5 rounded-md text-gray-600 text-sm font-medium transition-all">Kanban</button>
                        </div>
                        <button onclick="openModal('novoProjeto')" class="bg-madeira-escura text-white px-4 py-2 rounded-lg hover:bg-madeira-media transition-colors flex items-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                            Novo Projeto
                        </button>
                    </div>
                </div>

                <!-- View Toggle -->
                <div id="listView">
                    <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Projeto</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cliente</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Valor</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Progresso</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Entrega</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200" id="projetosTable">
                                    <!-- Projetos inseridos via JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div id="kanbanView" class="hidden">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <!-- Kanban Colunas -->
                        <div class="kanban-column bg-gray-100 rounded-xl p-4">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold text-gray-700">A Fazer</h3>
                                <span class="bg-gray-300 text-gray-700 px-2 py-1 rounded-full text-xs">3</span>
                            </div>
                            <div class="space-y-3" id="kanbanAFazer">
                                <!-- Cards -->
                            </div>
                        </div>
                        <div class="kanban-column bg-gray-100 rounded-xl p-4">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold text-yellow-600">Em Andamento</h3>
                                <span class="bg-yellow-200 text-yellow-700 px-2 py-1 rounded-full text-xs">4</span>
                            </div>
                            <div class="space-y-3" id="kanbanAndamento">
                                <!-- Cards -->
                            </div>
                        </div>
                        <div class="kanban-column bg-gray-100 rounded-xl p-4">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold text-green-600">Concluído</h3>
                                <span class="bg-green-200 text-green-700 px-2 py-1 rounded-full text-xs">5</span>
                            </div>
                            <div class="space-y-3" id="kanbanConcluido">
                                <!-- Cards -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Estoque Section -->
            <section id="estoque" class="section hidden p-6 fade-in">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Estoque</h2>
                        <p class="text-gray-500">Controle de materiais e insumos</p>
                    </div>
                    <div class="flex gap-2">
                        <select id="filtroCategoria" onchange="filtrarEstoque()" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                            <option value="">Todas as categorias</option>
                            <option value="mdf">Chapas de MDF</option>
                            <option value="ferragens">Ferragens</option>
                            <option value="cola">Colas</option>
                            <option value="parafusos">Parafusos</option>
                        </select>
                        <button onclick="openModal('movimentacao')" class="bg-madeira-escura text-white px-4 py-2 rounded-lg hover:bg-madeira-media transition-colors flex items-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                            Entrada/Saída
                        </button>
                    </div>
                </div>

                <!-- Alertas de Estoque Baixo -->
                <div id="alertasEstoque" class="mb-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Alertas inseridos via JS -->
                </div>

                <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Código</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Material</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Categoria</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Quantidade</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Qtd. Mínima</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Unidade</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ações</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200" id="estoqueTable">
                                <!-- Estoque inserido via JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Clientes Section -->
            <section id="clientes" class="section hidden p-6 fade-in">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Clientes</h2>
                        <p class="text-gray-500">Gestão de relacionamentos</p>
                    </div>
                    <div class="flex gap-2">
                        <div class="relative">
                            <input type="text" id="buscaCliente" onkeyup="buscarClientes()" placeholder="Buscar cliente..." class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media w-64">
                            <svg class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                        </div>
                        <button onclick="openModal('novoCliente')" class="bg-madeira-escura text-white px-4 py-2 rounded-lg hover:bg-madeira-media transition-colors flex items-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path></svg>
                            Novo Cliente
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="clientesGrid">
                    <!-- Clientes inseridos via JS -->
                </div>
            </section>

            <!-- Financeiro Section -->
            <section id="financeiro" class="section hidden p-6 fade-in">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Financeiro</h2>
                        <p class="text-gray-500">Contas a pagar e receber</p>
                    </div>
                    <div class="flex gap-2">
                        <select class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                            <option>Este Mês</option>
                            <option>Mês Passado</option>
                            <option>Últimos 3 Meses</option>
                            <option>Este Ano</option>
                        </select>
                        <button onclick="openModal('novaTransacao')" class="bg-madeira-escura text-white px-4 py-2 rounded-lg hover:bg-madeira-media transition-colors flex items-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                            Nova Transação
                        </button>
                    </div>
                </div>

                <!-- Fluxo de Caixa -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div class="bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-5 text-white">
                        <p class="text-green-100 text-sm">Entradas do Mês</p>
                        <p class="text-3xl font-bold mt-1">R$ 78.500</p>
                        <p class="text-green-100 text-sm mt-2">+15% vs mês anterior</p>
                    </div>
                    <div class="bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-5 text-white">
                        <p class="text-red-100 text-sm">Saídas do Mês</p>
                        <p class="text-3xl font-bold mt-1">R$ 45.200</p>
                        <p class="text-red-100 text-sm mt-2">-8% vs mês anterior</p>
                    </div>
                    <div class="bg-gradient-to-br from-madeira-media to-madeira-escura rounded-xl p-5 text-white">
                        <p class="text-gray-200 text-sm">Saldo Líquido</p>
                        <p class="text-3xl font-bold mt-1">R$ 33.300</p>
                        <p class="text-gray-200 text-sm mt-2">Meta: R$ 30.000</p>
                    </div>
                </div>

                <!-- Abas -->
                <div class="bg-white rounded-xl shadow-sm">
                    <div class="border-b border-gray-200">
                        <nav class="flex -mb-px">
                            <button onclick="showFinanceiroTab('receber')" class="tab-active px-6 py-4 text-sm font-medium">Contas a Receber</button>
                            <button onclick="showFinanceiroTab('pagar')" class="px-6 py-4 text-sm font-medium text-gray-500 hover:text-gray-700">Contas a Pagar</button>
                        </nav>
                    </div>
                    <div class="p-4">
                        <!-- Filtros -->
                        <div class="flex gap-4 mb-4">
                            <select class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                <option>Todos os Status</option>
                                <option>Pendente</option>
                                <option>Pago</option>
                                <option>Atrasado</option>
                            </select>
                            <select class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                <option>Todas as Categorias</option>
                                <option>Fornecedores</option>
                                <option>Salários</option>
                                <option>Impostos</option>
                                <option>Recebimento de Projetos</option>
                            </select>
                        </div>
                        
                        <div id="financeiroContent">
                            <!-- Tabela inserida via JS -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Agenda Section -->
            <section id="agenda" class="section hidden p-6 fade-in">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Agenda de Compromissos</h2>
                        <p class="text-gray-500">Visitas, entregas e montagens</p>
                    </div>
                    <div class="flex gap-2">
                        <div class="flex bg-gray-200 rounded-lg p-1">
                            <button onclick="mudarVisaoAgenda('mes')" id="btnAgendaMes" class="px-3 py-1.5 rounded-md bg-white shadow-sm text-sm font-medium transition-all">Mês</button>
                            <button onclick="mudarVisaoAgenda('semana')" id="btnAgendaSemana" class="px-3 py-1.5 rounded-md text-gray-600 text-sm font-medium transition-all">Semana</button>
                        </div>
                        <button onclick="openModal('novoCompromisso')" class="bg-madeira-escura text-white px-4 py-2 rounded-lg hover:bg-madeira-media transition-colors flex items-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                            Novo Compromisso
                        </button>
                    </div>
                </div>

                <!-- Navegação do Calendário -->
                <div class="bg-white rounded-xl shadow-sm p-4 mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <button onclick="navegarMes(-1)" class="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                        </button>
                        <h3 class="text-xl font-bold text-gray-800" id="tituloMesAno">Dezembro 2024</h3>
                        <button onclick="navegarMes(1)" class="p-2 hover:bg-gray-100 rounded-lg transition-colors">
                            <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                        </button>
                    </div>

                    <!-- Calendário Mensal -->
                    <div id="calendarioMensal">
                        <div class="grid grid-cols-7 gap-1 mb-2">
                            <div class="text-center py-2 text-sm font-medium text-gray-500">Dom</div>
                            <div class="text-center py-2 text-sm font-medium text-gray-500">Seg</div>
                            <div class="text-center py-2 text-sm font-medium text-gray-500">Ter</div>
                            <div class="text-center py-2 text-sm font-medium text-gray-500">Qua</div>
                            <div class="text-center py-2 text-sm font-medium text-gray-500">Qui</div>
                            <div class="text-center py-2 text-sm font-medium text-gray-500">Sex</div>
                            <div class="text-center py-2 text-sm font-medium text-gray-500">Sáb</div>
                        </div>
                        <div class="grid grid-cols-7 gap-1" id="diasCalendario">
                            <!-- Dias gerados via JS -->
                        </div>
                    </div>

                    <!-- Legenda -->
                    <div class="flex flex-wrap justify-center gap-4 mt-4 pt-4 border-t border-gray-200 text-sm">
                        <div class="flex items-center gap-2">
                            <span class="w-3 h-3 bg-blue-500 rounded-full"></span>
                            <span class="text-gray-600">Visita</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="w-3 h-3 bg-green-500 rounded-full"></span>
                            <span class="text-gray-600">Entrega</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="w-3 h-3 bg-purple-500 rounded-full"></span>
                            <span class="text-gray-600">Montagem</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="w-3 h-3 bg-orange-500 rounded-full"></span>
                            <span class="text-gray-600">Medição</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <span class="w-3 h-3 bg-red-500 rounded-full"></span>
                            <span class="text-gray-600">Reunião</span>
                        </div>
                    </div>
                </div>

                <!-- Compromissos do Dia Selecionado -->
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Lista de Compromissos -->
                    <div class="lg:col-span-2">
                        <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                            <div class="p-4 border-b border-gray-200 flex justify-between items-center">
                                <h3 class="font-semibold text-gray-800" id="tituloCompromissosDia">Compromissos de Hoje</h3>
                                <span class="bg-madeira-claro text-madeira-escura px-3 py-1 rounded-full text-sm font-medium" id="qtdCompromissosDia">3 compromissos</span>
                            </div>
                            <div class="divide-y divide-gray-200" id="listaCompromissos">
                                <!-- Compromissos inseridos via JS -->
                            </div>
                        </div>
                    </div>

                    <!-- Próximos Compromissos -->
                    <div>
                        <div class="bg-white rounded-xl shadow-sm p-4">
                            <h3 class="font-semibold text-gray-800 mb-4">Próximos 7 Dias</h3>
                            <div class="space-y-3" id="proximosCompromissos">
                                <!-- Inseridos via JS -->
                            </div>
                        </div>

                        <!-- Resumo Rápido -->
                        <div class="bg-gradient-to-br from-madeira-media to-madeira-escura rounded-xl p-4 mt-4 text-white">
                            <h4 class="font-medium text-gray-100 mb-3">Resumo do Mês</h4>
                            <div class="space-y-2 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-gray-200">Visitas:</span>
                                    <span class="font-semibold" id="resumoVisitas">5</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-200">Entregas:</span>
                                    <span class="font-semibold" id="resumoEntregas">8</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-200">Montagens:</span>
                                    <span class="font-semibold" id="resumoMontagens">4</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-200">Medições:</span>
                                    <span class="font-semibold" id="resumoMedicoes">3</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Calculadora Section -->
            <section id="calculadora" class="section hidden p-6 fade-in">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Calculadora de Materiais</h2>
                        <p class="text-gray-500">Precificação automática de projetos</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Formulário de Cálculo -->
                    <div class="bg-white rounded-xl shadow-sm p-6">
                        <h3 class="font-semibold text-gray-800 mb-4">Dados do Projeto</h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Nome do Projeto</label>
                                <input type="text" id="calcNome" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="Ex: Armário Cozinha">
                            </div>

                            <!-- Cliente e Funcionário -->
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Cliente</label>
                                    <select id="calcCliente" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                                        <option value="">Selecione o cliente...</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Responsável</label>
                                    <select id="calcFuncionario" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                                        <option value="">Selecione o funcionário...</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Modo de Cálculo -->
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Modo de Cálculo</label>
                                <div class="flex bg-gray-100 rounded-lg p-1">
                                    <button type="button" onclick="setModoCalculo('medidas')" id="btnModoMedidas" class="flex-1 px-4 py-2 rounded-md bg-white shadow-sm text-sm font-medium transition-all flex items-center justify-center gap-2">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path></svg>
                                        Por Medidas
                                    </button>
                                    <button type="button" onclick="setModoCalculo('m2')" id="btnModoM2" class="flex-1 px-4 py-2 rounded-md text-gray-600 text-sm font-medium transition-all flex items-center justify-center gap-2">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6z"></path></svg>
                                        Por m²
                                    </button>
                                </div>
                            </div>

                            <!-- Campos por Medidas -->
                            <div id="camposMedidas">
                                <div class="grid grid-cols-3 gap-3">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Largura (m)</label>
                                        <input type="number" id="calcLargura" step="0.01" oninput="calcular()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0.00">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Altura (m)</label>
                                        <input type="number" id="calcAltura" step="0.01" oninput="calcular()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0.00">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Profundidade (m)</label>
                                        <input type="number" id="calcProfundidade" step="0.01" oninput="calcular()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0.00">
                                    </div>
                                </div>
                            </div>

                            <!-- Campo por M² -->
                            <div id="camposM2" class="hidden">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Área Total (m²)</label>
                                    <input type="number" id="calcAreaDireta" step="0.01" oninput="calcular()" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="Ex: 15.50">
                                    <p class="text-xs text-gray-500 mt-1">Informe diretamente a metragem quadrada do projeto</p>
                                </div>
                            </div>

                            <!-- Tipos de Material (todos opcionais) -->
                            <div class="space-y-4">
                                <label class="block text-sm font-medium text-gray-700">Materiais <span class="text-gray-400 font-normal">(preencha apenas o que for usar)</span></label>
                                
                                <!-- Opção MDF -->
                                <div class="bg-amber-50 border border-amber-200 rounded-lg p-4">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">🪵</span>
                                        <label class="text-sm font-medium text-amber-800">MDF / Chapas</label>
                                    </div>
                                    <select id="calcTipoChapa" onchange="calcular()" class="w-full px-4 py-2 border border-amber-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400 bg-white">
                                        <option value="0">-- Não utilizar --</option>
                                        <option value="65">MDF Cru 6mm - R$ 65/m²</option>
                                        <option value="75">MDF Cru 9mm - R$ 75/m²</option>
                                        <option value="80">MDF Cru 15mm - R$ 80/m²</option>
                                        <option value="95">MDF Cru 18mm - R$ 95/m²</option>
                                        <option value="110">MDF Cru 25mm - R$ 110/m²</option>
                                        <option value="90">MDF Branco 15mm - R$ 90/m²</option>
                                        <option value="120">MDF Branco 18mm - R$ 120/m²</option>
                                        <option value="140">MDF Branco 25mm - R$ 140/m²</option>
                                        <option value="130">MDF Amadeirado 15mm - R$ 130/m²</option>
                                        <option value="150">MDF Amadeirado 18mm - R$ 150/m²</option>
                                        <option value="200">MDF Naval 18mm - R$ 200/m²</option>
                                        <option value="180">Compensado 15mm - R$ 180/m²</option>
                                        <option value="220">Compensado Naval 18mm - R$ 220/m²</option>
                                    </select>
                                </div>

                                <!-- Opção Drywall -->
                                <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">🧱</span>
                                        <label class="text-sm font-medium text-blue-800">Drywall / Gesso</label>
                                    </div>
                                    <select id="calcTipoDrywall" onchange="calcular()" class="w-full px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white">
                                        <option value="0">-- Não utilizar --</option>
                                        <option value="35">Drywall Standard (ST) 9,5mm - R$ 35/m²</option>
                                        <option value="42">Drywall Standard (ST) 12,5mm - R$ 42/m²</option>
                                        <option value="55">Drywall Standard (ST) 15mm - R$ 55/m²</option>
                                        <option value="58">Drywall Resistente à Umidade (RU) 12,5mm - R$ 58/m²</option>
                                        <option value="72">Drywall Resistente a Fogo (RF) 12,5mm - R$ 72/m²</option>
                                        <option value="85">Drywall Resistente a Fogo (RF) 15mm - R$ 85/m²</option>
                                        <option value="95">Drywall Acústico 12,5mm - R$ 95/m²</option>
                                    </select>
                                    <p class="text-xs text-blue-600 mt-1">💡 ST: Padrão | RU: Áreas úmidas | RF: Resistente ao fogo</p>
                                </div>

                                <!-- Opção Estrutura -->
                                <div class="bg-gray-100 border border-gray-300 rounded-lg p-4">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-lg">🔩</span>
                                        <label class="text-sm font-medium text-gray-800">Estrutura / Perfis</label>
                                    </div>
                                    <div class="grid grid-cols-2 gap-3">
                                        <div>
                                            <select id="calcTipoEstrutura" onchange="calcular()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 bg-white text-sm">
                                                <option value="0">-- Não utilizar --</option>
                                                <option value="18">Perfil Montante 48mm - R$ 18/m</option>
                                                <option value="22">Perfil Montante 70mm - R$ 22/m</option>
                                                <option value="28">Perfil Montante 90mm - R$ 28/m</option>
                                                <option value="15">Perfil Guia 48mm - R$ 15/m</option>
                                                <option value="19">Perfil Guia 70mm - R$ 19/m</option>
                                                <option value="25">Perfil Guia 90mm - R$ 25/m</option>
                                                <option value="35">Perfil Canaleta 40mm - R$ 35/m</option>
                                                <option value="45">Metalon 20x20mm - R$ 45/m</option>
                                                <option value="55">Metalon 30x30mm - R$ 55/m</option>
                                                <option value="75">Metalon 40x40mm - R$ 75/m</option>
                                                <option value="95">Metalon 50x50mm - R$ 95/m</option>
                                            </select>
                                        </div>
                                        <div>
                                            <input type="number" id="calcQtdEstrutura" value="0" min="0" oninput="calcular()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-400 text-sm" placeholder="Qtd barras">
                                        </div>
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1">💡 Informe o tipo e a quantidade de barras/perfis</p>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Porcentagem de Perda (%)</label>
                                <input type="number" id="calcPerda" value="10" oninput="calcular()" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Custo Ferragens (R$)</label>
                                <input type="number" id="calcFerragens" value="0" oninput="calcular()" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0.00">
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Horas Mão de Obra</label>
                                    <input type="number" id="calcHoras" value="0" oninput="calcular()" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Valor/Hora (R$)</label>
                                    <input type="number" id="calcValorHora" value="45" oninput="calcular()" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0.00">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">Margem de Lucro (%)</label>
                                <input type="range" id="calcMargem" min="10" max="100" value="40" oninput="calcular()" class="w-full">
                                <div class="flex justify-between text-sm text-gray-500">
                                    <span>10%</span>
                                    <span id="margemValor" class="font-semibold text-madeira-escura">40%</span>
                                    <span>100%</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Resultado -->
                    <div class="bg-white rounded-xl shadow-sm p-6">
                        <h3 class="font-semibold text-gray-800 mb-4">Resultado do Cálculo</h3>
                        <div class="space-y-4">
                            <div class="p-4 bg-gray-50 rounded-lg">
                                <div class="flex justify-between text-sm text-gray-600">
                                    <span>Área Total:</span>
                                    <span id="resArea">0.00 m²</span>
                                </div>
                                <div class="flex justify-between text-sm text-gray-600 mt-1">
                                    <span>Área + Perda:</span>
                                    <span id="resAreaPerda">0.00 m²</span>
                                </div>
                                <div class="flex justify-between text-sm text-gray-600 mt-1">
                                    <span>Custo Material:</span>
                                    <span id="resCustoMaterial">R$ 0,00</span>
                                </div>
                                <div class="flex justify-between text-sm text-gray-600 mt-1">
                                    <span>Custo Mão de Obra:</span>
                                    <span id="resCustoMO">R$ 0,00</span>
                                </div>
                                <div class="flex justify-between text-sm text-green-600 mt-1 font-medium">
                                    <span>Lucro (<span id="resMargemPctDisplay">40%</span>):</span>
                                    <span id="resMargemValorDisplay">R$ 0,00</span>
                                </div>
                                <div class="border-t border-gray-300 my-2 pt-2">
                                    <div class="flex justify-between font-semibold text-gray-800">
                                        <span>Custo Total:</span>
                                        <span id="resCustoTotal">R$ 0,00</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="p-4 bg-madeira-claro rounded-lg border-2 border-madeira-clara">
                                <p class="text-sm text-madeira-escura mb-1">Preço de Venda Sugerido</p>
                                <p class="text-4xl font-bold text-madeira-escura" id="resPrecoVenda">R$ 0,00</p>
                                <p class="text-sm text-madeira-media mt-1">Lucro: <span id="resLucro">R$ 0,00</span></p>
                            </div>
                            
                            <div class="space-y-3">
                                <button onclick="gerarOSdaCalculadora()" class="w-full py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center gap-2">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                                    Gerar OS Oficial
                                </button>
                            </div>
                            <p class="text-xs text-gray-500 text-center mt-2">Rascunho: salva para continuar depois | OS Oficial: gera documento para cliente</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Cortes (OS) Section -->
            <section id="cortes" class="section hidden p-6 fade-in">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Gerenciamento de Cortes</h2>
                        <p class="text-gray-500">Ordens de Serviço para produção</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="novaOS()" class="bg-madeira-escura text-white px-4 py-2 rounded-lg hover:bg-madeira-media transition-colors flex items-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                            Nova OS
                        </button>
                    </div>
                </div>

                <!-- Mini Dashboard de OS -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6" id="dashboardOS">
                    <div class="bg-white rounded-xl p-4 shadow-sm border-l-4 border-blue-500">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-xs text-gray-500 uppercase font-medium">Total de OS</p>
                                <p class="text-2xl font-bold text-gray-800" id="osTotalCount">0</p>
                            </div>
                            <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm border-l-4 border-yellow-500">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-xs text-gray-500 uppercase font-medium">Pendentes</p>
                                <p class="text-2xl font-bold text-yellow-600" id="osPendenteCount">0</p>
                            </div>
                            <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm border-l-4 border-purple-500">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-xs text-gray-500 uppercase font-medium">Em Produção</p>
                                <p class="text-2xl font-bold text-purple-600" id="osProducaoCount">0</p>
                            </div>
                            <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl p-4 shadow-sm border-l-4 border-green-500">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-xs text-gray-500 uppercase font-medium">Valor Total</p>
                                <p class="text-2xl font-bold text-green-600" id="osValorTotal">R$ 0</p>
                            </div>
                            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Filtros -->
                <div class="bg-white rounded-xl shadow-sm p-4 mb-6">
                    <div class="flex flex-wrap items-center gap-4">
                        <div class="flex items-center gap-2">
                            <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path></svg>
                            <span class="text-sm font-medium text-gray-600">Filtros:</span>
                        </div>
                        <select id="filtroOsStatus" onchange="filtrarOS()" class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-madeira-media">
                            <option value="">Todos os Status</option>
                            <option value="pendente">Pendente</option>
                            <option value="aprovado">Aprovado</option>
                            <option value="em_producao">Em Produção</option>
                            <option value="concluido">Concluído</option>
                        </select>
                        <select id="filtroOsCliente" onchange="filtrarOS()" class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-madeira-media">
                            <option value="">Todos os Clientes</option>
                        </select>
                        <input type="text" id="filtroOsBusca" onkeyup="filtrarOS()" placeholder="Buscar por número ou título..." class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-madeira-media w-64">
                        <button onclick="limparFiltrosOS()" class="px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg text-sm transition-colors flex items-center gap-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                            Limpar
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <!-- Lista de OS -->
                    <div class="lg:col-span-1 bg-white rounded-xl shadow-sm overflow-hidden">
                        <div class="p-4 border-b border-gray-200 flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Ordens de Serviço</h3>
                            <span class="text-xs text-gray-500" id="osCountLabel">0 encontradas</span>
                        </div>
                        <div class="divide-y divide-gray-200 max-h-[500px] overflow-y-auto" id="listaOS">
                            <!-- OS inseridas via JS -->
                        </div>
                    </div>

                    <!-- Detalhes da OS -->
                    <div class="lg:col-span-2 bg-white rounded-xl shadow-sm">
                        <div class="p-4 border-b border-gray-200 flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Detalhes da OS</h3>
                            <div class="flex gap-2">
                                <button class="px-3 py-1.5 bg-red-100 text-red-600 rounded-lg text-sm hover:bg-red-200 transition-colors">
                                    PDF Marteleiro
                                </button>
                                <button class="px-3 py-1.5 bg-blue-100 text-blue-600 rounded-lg text-sm hover:bg-blue-200 transition-colors">
                                    Enviar E-mail
                                </button>
                            </div>
                        </div>
                        <div class="p-4" id="detalhesOS">
                            <div class="text-center py-12 text-gray-500">
                                <svg class="w-16 h-16 mx-auto text-gray-300 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg>
                                <p>Selecione uma OS para visualizar os detalhes</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Contabilidade Section -->
            <section id="contabilidade" class="section hidden p-6 fade-in">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Contabilidade</h2>
                        <p class="text-gray-500">Gestão completa: sócios, funcionários, impostos e patrimônio</p>
                    </div>
                    <div class="flex gap-2">
                        <select id="contabMesAno" onchange="atualizarContabilidade()" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                            <option value="12/2024">Dezembro 2024</option>
                            <option value="11/2024">Novembro 2024</option>
                            <option value="10/2024">Outubro 2024</option>
                        </select>
                        <button onclick="openModal('gerarRelatorio')" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                            Gerar DRE
                        </button>
                    </div>
                </div>

                <!-- Cards Resumo Contábil -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                    <div class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-5 text-white">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-blue-100 text-sm">Faturamento Bruto</p>
                                <p class="text-2xl font-bold mt-1">R$ 125.800</p>
                            </div>
                            <div class="p-2 bg-white/20 rounded-lg">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>
                            </div>
                        </div>
                        <p class="text-blue-100 text-sm mt-2">+18% vs mês anterior</p>
                    </div>
                    <div class="bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-5 text-white">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-purple-100 text-sm">Lucro Líquido</p>
                                <p class="text-2xl font-bold mt-1">R$ 42.350</p>
                            </div>
                            <div class="p-2 bg-white/20 rounded-lg">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            </div>
                        </div>
                        <p class="text-purple-100 text-sm mt-2">Margem: 33,7%</p>
                    </div>
                    <div class="bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-5 text-white">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-orange-100 text-sm">Impostos do Mês</p>
                                <p class="text-2xl font-bold mt-1">R$ 8.920</p>
                            </div>
                            <div class="p-2 bg-white/20 rounded-lg">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z"></path></svg>
                            </div>
                        </div>
                        <p class="text-orange-100 text-sm mt-2">Simples Nacional: 7,1%</p>
                    </div>
                    <div class="bg-gradient-to-br from-teal-500 to-teal-600 rounded-xl p-5 text-white">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-teal-100 text-sm">Patrimônio Total</p>
                                <p class="text-2xl font-bold mt-1">R$ 285.000</p>
                            </div>
                            <div class="p-2 bg-white/20 rounded-lg">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg>
                            </div>
                        </div>
                        <p class="text-teal-100 text-sm mt-2">Bens + Equipamentos</p>
                    </div>
                </div>

                <!-- Abas de Contabilidade -->
                <div class="bg-white rounded-xl shadow-sm">
                    <div class="border-b border-gray-200 overflow-x-auto">
                        <nav class="flex -mb-px min-w-max">
                            <button onclick="showContabTab('socios')" id="tabSocios" class="tab-active px-6 py-4 text-sm font-medium whitespace-nowrap">Sócios & Pró-labore</button>
                            <button onclick="showContabTab('funcionarios')" id="tabFuncionarios" class="px-6 py-4 text-sm font-medium text-gray-500 hover:text-gray-700 whitespace-nowrap">Funcionários</button>
                            <button onclick="showContabTab('lucros')" id="tabLucros" class="px-6 py-4 text-sm font-medium text-gray-500 hover:text-gray-700 whitespace-nowrap">Divisão de Lucros</button>
                            <button onclick="showContabTab('impostos')" id="tabImpostos" class="px-6 py-4 text-sm font-medium text-gray-500 hover:text-gray-700 whitespace-nowrap">Impostos</button>
                            <button onclick="showContabTab('patrimonio')" id="tabPatrimonio" class="px-6 py-4 text-sm font-medium text-gray-500 hover:text-gray-700 whitespace-nowrap">Patrimônio/Bens</button>
                            <button onclick="showContabTab('dre')" id="tabDre" class="px-6 py-4 text-sm font-medium text-gray-500 hover:text-gray-700 whitespace-nowrap">DRE</button>
                        </nav>
                    </div>
                    
                    <!-- Tab Content: Sócios -->
                    <div id="contabSocios" class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-semibold text-gray-800">Quadro Societário</h3>
                            <button onclick="openModal('novoSocio')" class="bg-madeira-escura text-white px-4 py-2 rounded-lg hover:bg-madeira-media transition-colors flex items-center gap-2 text-sm">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                                Adicionar Sócio
                            </button>
                        </div>
                        
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <!-- Lista de Sócios -->
                            <div class="space-y-4" id="listaSocios">
                                <!-- Renderizado via JS -->
                            </div>
                            
                            <!-- Gráfico de Participação -->
                            <div class="bg-gray-50 rounded-xl p-6">
                                <h4 class="font-medium text-gray-800 mb-4">Distribuição de Participação</h4>
                                <div class="flex items-center justify-center">
                                    <div class="relative w-48 h-48">
                                        <svg class="w-full h-full transform -rotate-90" viewBox="0 0 100 100">
                                            <circle cx="50" cy="50" r="40" fill="none" stroke="#E5E7EB" stroke-width="20"/>
                                            <circle cx="50" cy="50" r="40" fill="none" stroke="#5D4037" stroke-width="20" stroke-dasharray="150.8 251.2" stroke-dashoffset="0"/>
                                            <circle cx="50" cy="50" r="40" fill="none" stroke="#8D6E63" stroke-width="20" stroke-dasharray="100.5 251.2" stroke-dashoffset="-150.8"/>
                                        </svg>
                                        <div class="absolute inset-0 flex items-center justify-center">
                                            <div class="text-center">
                                                <p class="text-2xl font-bold text-gray-800">100%</p>
                                                <p class="text-xs text-gray-500">Capital Social</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-4 space-y-2">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center gap-2">
                                            <div class="w-3 h-3 rounded-full bg-madeira-escura"></div>
                                            <span class="text-sm text-gray-600">João Machado</span>
                                        </div>
                                        <span class="text-sm font-medium">60%</span>
                                    </div>
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center gap-2">
                                            <div class="w-3 h-3 rounded-full bg-madeira-media"></div>
                                            <span class="text-sm text-gray-600">Pedro Santos</span>
                                        </div>
                                        <span class="text-sm font-medium">40%</span>
                                    </div>
                                </div>
                                
                                <div class="mt-6 pt-4 border-t border-gray-200">
                                    <h5 class="text-sm font-medium text-gray-700 mb-2">Resumo Pró-labore</h5>
                                    <div class="space-y-1 text-sm">
                                        <div class="flex justify-between">
                                            <span class="text-gray-500">Total Pró-labore:</span>
                                            <span class="font-medium text-gray-800">R$ 12.000,00</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-500">INSS Patronal (20%):</span>
                                            <span class="font-medium text-red-600">R$ 2.400,00</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-500">IRRF Retido:</span>
                                            <span class="font-medium text-red-600">R$ 869,36</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Content: Funcionários -->
                    <div id="contabFuncionarios" class="p-6 hidden">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-semibold text-gray-800">Folha de Pagamento</h3>
                            <div class="flex gap-2">
                                <button onclick="openModal('novoFuncionario')" class="bg-madeira-escura text-white px-4 py-2 rounded-lg hover:bg-madeira-media transition-colors flex items-center gap-2 text-sm">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                                    Novo Funcionário
                                </button>
                                <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                                    Gerar Folha
                                </button>
                            </div>
                        </div>

                        <!-- Resumo Folha -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                            <div class="bg-blue-50 rounded-lg p-4">
                                <p class="text-blue-600 text-sm">Total Salários</p>
                                <p class="text-xl font-bold text-blue-800">R$ 18.500</p>
                            </div>
                            <div class="bg-red-50 rounded-lg p-4">
                                <p class="text-red-600 text-sm">Encargos (INSS+FGTS)</p>
                                <p class="text-xl font-bold text-red-800">R$ 6.290</p>
                            </div>
                            <div class="bg-yellow-50 rounded-lg p-4">
                                <p class="text-yellow-600 text-sm">Benefícios</p>
                                <p class="text-xl font-bold text-yellow-800">R$ 2.400</p>
                            </div>
                            <div class="bg-purple-50 rounded-lg p-4">
                                <p class="text-purple-600 text-sm">Custo Total</p>
                                <p class="text-xl font-bold text-purple-800">R$ 27.190</p>
                            </div>
                        </div>

                        <!-- Tabela Funcionários -->
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Funcionário</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Cargo</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Salário Base</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">INSS</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">FGTS</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">VT + VR</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Líquido</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Custo Total</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Ações</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200" id="tabelaFuncionarios">
                                    <!-- Renderizado via JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Tab Content: Divisão de Lucros -->
                    <div id="contabLucros" class="p-6 hidden">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-semibold text-gray-800">Simulador de Divisão de Lucros</h3>
                            <button onclick="distribuirLucros()" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                                Registrar Distribuição
                            </button>
                        </div>

                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <!-- Calculadora de Lucros -->
                            <div class="bg-gray-50 rounded-xl p-6">
                                <!-- Renderizado via JS -->
                            </div>

                            <!-- Divisão por Sócio -->
                            <div>
                                <h4 class="font-medium text-gray-800 mb-4">Divisão por Sócio</h4>
                                <div class="space-y-4" id="divisaoSocios">
                                    <!-- Renderizado via JS -->
                                </div>

                                <div class="mt-6 p-4 bg-blue-50 rounded-lg">
                                    <h5 class="font-medium text-blue-800 mb-2">Histórico de Distribuições</h5>
                                    <div class="space-y-2 text-sm" id="historicoDistribuicoes">
                                        <div class="flex justify-between">
                                            <span class="text-blue-600">Nov/2024</span>
                                            <span class="font-medium text-blue-800">R$ 35.200,00</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-blue-600">Out/2024</span>
                                            <span class="font-medium text-blue-800">R$ 28.500,00</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-blue-600">Set/2024</span>
                                            <span class="font-medium text-blue-800">R$ 31.800,00</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Content: Impostos -->
                    <div id="contabImpostos" class="p-6 hidden">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-semibold text-gray-800">Gestão de Impostos</h3>
                            <div class="flex gap-2">
                                <select class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                                    <option>Simples Nacional</option>
                                    <option>Lucro Presumido</option>
                                    <option>Lucro Real</option>
                                </select>
                            </div>
                        </div>

                        <!-- Impostos do Mês -->
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                            <div class="lg:col-span-2">
                                <div class="bg-white border border-gray-200 rounded-xl overflow-hidden">
                                    <div class="bg-gray-50 px-4 py-3 border-b border-gray-200">
                                        <h4 class="font-medium text-gray-800">Impostos a Pagar - Dezembro 2024</h4>
                                    </div>
                                    <div class="divide-y divide-gray-200" id="listaImpostos">
                                        <!-- Renderizado via JS -->
                                    </div>
                                </div>
                            </div>

                            <div class="space-y-4">
                                <div class="bg-orange-50 border border-orange-200 rounded-xl p-4">
                                    <div class="flex items-center gap-2 mb-2">
                                        <svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                        <span class="font-medium text-orange-800">Próximo Vencimento</span>
                                    </div>
                                    <p class="text-2xl font-bold text-orange-800">20/12/2024</p>
                                    <p class="text-sm text-orange-600 mt-1">DAS - Simples Nacional</p>
                                </div>

                                <div class="bg-gray-50 rounded-xl p-4">
                                    <h5 class="font-medium text-gray-800 mb-3">Alíquota Simples Nacional</h5>
                                    <div class="space-y-2 text-sm">
                                        <div class="flex justify-between">
                                            <span class="text-gray-500">Faixa Atual:</span>
                                            <span class="font-medium">3ª Faixa</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-500">Alíquota Nominal:</span>
                                            <span class="font-medium">11,20%</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-500">Alíquota Efetiva:</span>
                                            <span class="font-medium text-green-600">7,09%</span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span class="text-gray-500">Faturamento 12 meses:</span>
                                            <span class="font-medium">R$ 985.400</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-red-50 border border-red-200 rounded-xl p-4">
                                    <h5 class="font-medium text-red-800 mb-2">Atenção!</h5>
                                    <p class="text-sm text-red-600">Faltam R$ 814.600 para mudar de faixa no Simples Nacional.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Calendário Fiscal -->
                        <div class="bg-white border border-gray-200 rounded-xl p-4">
                            <h4 class="font-medium text-gray-800 mb-4">Calendário Fiscal - Dezembro</h4>
                            <div class="grid grid-cols-7 gap-2 text-center text-sm">
                                <div class="text-gray-500 font-medium py-2">Dom</div>
                                <div class="text-gray-500 font-medium py-2">Seg</div>
                                <div class="text-gray-500 font-medium py-2">Ter</div>
                                <div class="text-gray-500 font-medium py-2">Qua</div>
                                <div class="text-gray-500 font-medium py-2">Qui</div>
                                <div class="text-gray-500 font-medium py-2">Sex</div>
                                <div class="text-gray-500 font-medium py-2">Sáb</div>
                                
                                <div class="py-2">1</div>
                                <div class="py-2">2</div>
                                <div class="py-2">3</div>
                                <div class="py-2">4</div>
                                <div class="py-2">5</div>
                                <div class="py-2">6</div>
                                <div class="py-2 bg-red-100 rounded-lg text-red-600 font-medium" title="FGTS">7</div>
                                
                                <div class="py-2">8</div>
                                <div class="py-2">9</div>
                                <div class="py-2">10</div>
                                <div class="py-2">11</div>
                                <div class="py-2">12</div>
                                <div class="py-2">13</div>
                                <div class="py-2">14</div>
                                
                                <div class="py-2">15</div>
                                <div class="py-2">16</div>
                                <div class="py-2">17</div>
                                <div class="py-2">18</div>
                                <div class="py-2">19</div>
                                <div class="py-2 bg-orange-100 rounded-lg text-orange-600 font-medium" title="DAS">20</div>
                                <div class="py-2">21</div>
                                
                                <div class="py-2">22</div>
                                <div class="py-2">23</div>
                                <div class="py-2">24</div>
                                <div class="py-2">25</div>
                                <div class="py-2">26</div>
                                <div class="py-2">27</div>
                                <div class="py-2">28</div>
                                
                                <div class="py-2">29</div>
                                <div class="py-2">30</div>
                                <div class="py-2">31</div>
                                <div class="py-2"></div>
                                <div class="py-2"></div>
                                <div class="py-2"></div>
                                <div class="py-2"></div>
                            </div>
                            <div class="flex gap-4 mt-4 text-xs">
                                <div class="flex items-center gap-1">
                                    <div class="w-3 h-3 bg-red-100 rounded"></div>
                                    <span>FGTS</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <div class="w-3 h-3 bg-orange-100 rounded"></div>
                                    <span>DAS</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <div class="w-3 h-3 bg-blue-100 rounded"></div>
                                    <span>INSS</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Content: Patrimônio/Bens -->
                    <div id="contabPatrimonio" class="p-6 hidden">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-semibold text-gray-800">Patrimônio e Bens do CNPJ</h3>
                            <button onclick="openModal('novoBem')" class="bg-madeira-escura text-white px-4 py-2 rounded-lg hover:bg-madeira-media transition-colors flex items-center gap-2 text-sm">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                                Adicionar Bem
                            </button>
                        </div>

                        <!-- Resumo Patrimônio -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                            <div class="bg-teal-50 rounded-lg p-4">
                                <p class="text-teal-600 text-sm">Máquinas e Equipamentos</p>
                                <p class="text-xl font-bold text-teal-800">R$ 185.000</p>
                            </div>
                            <div class="bg-indigo-50 rounded-lg p-4">
                                <p class="text-indigo-600 text-sm">Veículos</p>
                                <p class="text-xl font-bold text-indigo-800">R$ 75.000</p>
                            </div>
                            <div class="bg-pink-50 rounded-lg p-4">
                                <p class="text-pink-600 text-sm">Móveis e Utensílios</p>
                                <p class="text-xl font-bold text-pink-800">R$ 25.000</p>
                            </div>
                        </div>

                        <!-- Tabela de Bens -->
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Descrição</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Categoria</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Data Aquisição</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Valor Aquisição</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Depreciação</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Valor Atual</th>
                                        <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Ações</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-200" id="tabelaBens">
                                    <!-- Renderizado via JS -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Tab Content: DRE -->
                    <div id="contabDre" class="p-6 hidden">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="font-semibold text-gray-800">Demonstração do Resultado do Exercício (DRE)</h3>
                            <div class="flex gap-2">
                                <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                                    Exportar PDF
                                </button>
                                <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 text-sm">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                                    Exportar Excel
                                </button>
                            </div>
                        </div>

                        <div class="bg-white border border-gray-200 rounded-xl overflow-hidden">
                            <table class="w-full">
                                <thead class="bg-gray-800 text-white">
                                    <tr>
                                        <th class="px-6 py-4 text-left font-medium">Descrição</th>
                                        <th class="px-6 py-4 text-right font-medium">Valor (R$)</th>
                                        <th class="px-6 py-4 text-right font-medium">AV%</th>
                                    </tr>
                                </thead>
                                <tbody id="tabelaDRE">
                                    <!-- DRE renderizado via JS -->
                                </tbody>
                            </table>
                        </div>

                        <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="bg-blue-50 rounded-xl p-4 text-center">
                                <p class="text-blue-600 text-sm">Margem Bruta</p>
                                <p class="text-2xl font-bold text-blue-800">64,1%</p>
                            </div>
                            <div class="bg-purple-50 rounded-xl p-4 text-center">
                                <p class="text-purple-600 text-sm">Margem Operacional</p>
                                <p class="text-2xl font-bold text-purple-800">40,7%</p>
                            </div>
                            <div class="bg-green-50 rounded-xl p-4 text-center">
                                <p class="text-green-600 text-sm">Margem Líquida</p>
                                <p class="text-2xl font-bold text-green-800">33,7%</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modais -->
    <!-- Modal Novo Projeto -->
    <div id="modalNovoProjeto" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Novo Projeto</h3>
                <button onclick="closeModal('novoProjeto')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <form class="p-6 space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nome do Projeto</label>
                        <input type="text" id="inpPrjNome" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="Ex: Armário Copa">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Cliente</label>
                        <select id="inpPrjCliente" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                            <option>Selecione um cliente</option>
                            <option>Carlos Silva</option>
                            <option>Maria Santos</option>
                            <option>José Oliveira</option>
                        </select>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Valor Total (R$)</label>
                        <input type="number" id="inpPrjValor" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0.00">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Data de Entrega</label>
                        <input type="date" id="inpPrjData" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Descrição Técnica</label>
                    <textarea id="inpPrjDesc" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" rows="3" placeholder="Detalhes técnicos do projeto..."></textarea>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Materiais Vinculados</label>
                    <select multiple class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media h-24">
                        <option>MDF 15mm Branco</option>
                        <option>MDF 18mm Imbuia</option>
                        <option>Dobradiça Italiana</option>
                        <option>Corrediça Telescópica</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Upload de Esboço/Render</label>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:bg-gray-50 transition-colors cursor-pointer">
                        <svg class="w-12 h-12 mx-auto text-gray-400 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                        <p class="text-sm text-gray-500">Clique para enviar ou arraste o arquivo</p>
                    </div>
                </div>
                <div class="flex justify-end gap-3 pt-4">
                    <button type="button" onclick="closeModal('novoProjeto')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">Cancelar</button>
                    <button type="button" onclick="salvarProjeto()" class="px-4 py-2 bg-madeira-escura text-white rounded-lg hover:bg-madeira-media transition-colors">Salvar Projeto</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Movimentação Estoque -->
    <div id="modalMovimentacao" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl max-w-md w-full">
            <div class="p-6 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Movimentar Estoque</h3>
                <button onclick="closeModal('movimentacao')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <form class="p-6 space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Material</label>
                    <select id="inpEstMaterial" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                        <option>Selecione o material</option>
                        <option>MDF 15mm Branco</option>
                        <option>Dobradiça Italiana</option>
                        <option>Parafuso 4x50mm</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Tipo de Movimento</label>
                    <div class="flex gap-4">
                        <label class="flex items-center">
                            <input type="radio" name="tipoMovimento" value="entrada" class="mr-2"> Entrada
                        </label>
                        <label class="flex items-center">
                            <input type="radio" name="tipoMovimento" value="saida" class="mr-2"> Saída
                        </label>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Quantidade</label>
                    <input type="number" id="inpEstQtd" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Observação</label>
                    <textarea class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" rows="2" placeholder="Motivo da movimentação..."></textarea>
                </div>
                <div class="flex justify-end gap-3 pt-4">
                    <button type="button" onclick="closeModal('movimentacao')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">Cancelar</button>
                    <button type="button" onclick="salvarEstoque()" class="px-4 py-2 bg-madeira-escura text-white rounded-lg hover:bg-madeira-media transition-colors">Confirmar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Novo Cliente -->
    <div id="modalNovoCliente" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl max-w-lg w-full">
            <div class="p-6 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Novo Cliente</h3>
                <button onclick="closeModal('novoCliente')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <form class="p-6 space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nome</label>
                        <input type="text" id="inpCliNome" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Telefone</label>
                        <input type="tel" id="inpCliTel" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">E-mail</label>
                    <input type="email" id="inpCliEmail" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Endereço</label>
                    <input type="text" id="inpCliEnd" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Preferências</label>
                    <textarea id="inpCliPref" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" rows="2" placeholder="Cores e materiais preferidos..."></textarea>
                </div>
                <div class="flex justify-end gap-3 pt-4">
                    <button type="button" onclick="closeModal('novoCliente')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">Cancelar</button>
                    <button type="button" onclick="salvarCliente()" class="px-4 py-2 bg-madeira-escura text-white rounded-lg hover:bg-madeira-media transition-colors">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Nova Transação -->
    <div id="modalNovaTransacao" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl max-w-md w-full">
            <div class="p-6 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Nova Transação</h3>
                <button onclick="closeModal('novaTransacao')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <form class="p-6 space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Tipo</label>
                    <div class="flex gap-4">
                        <label class="flex items-center">
                            <input type="radio" name="tipoTransacao" value="entrada" class="mr-2"> Entrada
                        </label>
                        <label class="flex items-center">
                            <input type="radio" name="tipoTransacao" value="saida" class="mr-2"> Saída
                        </label>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Descrição</label>
                    <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Valor (R$)</label>
                        <input type="number" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Data</label>
                        <input type="date" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Categoria</label>
                    <select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                        <option>Selecione...</option>
                        <option>Recebimento de Projetos</option>
                        <option>Fornecedores</option>
                        <option>Salários</option>
                        <option>Impostos</option>
                        <option>Manutenção</option>
                    </select>
                </div>
                <div class="flex justify-end gap-3 pt-4">
                    <button type="button" onclick="closeModal('novaTransacao')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">Cancelar</button>
                    <button type="button" onclick="closeModal('novaTransacao')" class="px-4 py-2 bg-madeira-escura text-white rounded-lg hover:bg-madeira-media transition-colors">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Novo Compromisso -->
    <div id="modalNovoCompromisso" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Novo Compromisso</h3>
                <button onclick="closeModal('novoCompromisso')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <form class="p-6 space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Tipo de Compromisso</label>
                    <select id="inpCompTipo" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                        <option value="visita">🔵 Visita ao Cliente</option>
                        <option value="entrega">🟢 Entrega de Móvel</option>
                        <option value="montagem">🟣 Montagem</option>
                        <option value="medicao">🟠 Medição</option>
                        <option value="reuniao">🔴 Reunião</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Título</label>
                    <input type="text" id="inpCompTitulo" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="Ex: Visita para aprovação de projeto">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Cliente</label>
                    <select id="inpCompCliente" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                        <option value="">Selecione o cliente</option>
                    </select>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Data</label>
                        <input type="date" id="inpCompData" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Horário</label>
                        <input type="time" id="inpCompHora" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Endereço</label>
                    <input type="text" id="inpCompEndereco" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="Endereço do compromisso">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Projeto Vinculado (opcional)</label>
                    <select id="inpCompProjeto" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                        <option value="">Nenhum projeto</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Observações</label>
                    <textarea id="inpCompObs" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" rows="2" placeholder="Detalhes adicionais..."></textarea>
                </div>
                <div class="flex justify-end gap-3 pt-4">
                    <button type="button" onclick="closeModal('novoCompromisso')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">Cancelar</button>
                    <button type="button" onclick="salvarCompromisso()" class="px-4 py-2 bg-madeira-escura text-white rounded-lg hover:bg-madeira-media transition-colors">Agendar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Nova OS (Completa) -->
    <div id="modalNovaOS" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl max-w-5xl w-full max-h-[95vh] overflow-y-auto">
            <div class="p-6 border-b border-gray-200 flex justify-between items-center bg-gray-50 rounded-t-xl">
                <div>
                    <h3 class="text-xl font-bold text-gray-800">Nova Ordem de Serviço</h3>
                    <p class="text-sm text-gray-500">Gerar documento oficial e ordem de produção</p>
                </div>
                <button onclick="closeModal('novaOS')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <form class="p-6 space-y-6">
                <!-- Cabeçalho OS -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Título da OS</label>
                        <input type="text" id="inpOsTitulo" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="Ex: Armário Cozinha">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Cliente</label>
                        <select id="inpOsCliente" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                            <option value="">Selecione...</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Profissional Responsável</label>
                        <select id="inpOsResponsavel" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                            <option value="">Selecione...</option>
                        </select>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Data de Abertura</label>
                        <input type="date" id="inpOsData" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Previsão de Entrega</label>
                        <input type="date" id="inpOsEntrega" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                        <select id="inpOsStatus" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                            <option value="pendente">Pendente</option>
                            <option value="aprovado">Aprovado</option>
                            <option value="em_producao">Em Produção</option>
                            <option value="concluido">Concluído</option>
                        </select>
                    </div>
                </div>

                <!-- Lista de Itens (Materiais e Serviços) com Subtotal -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Itens da Ordem de Serviço</label>
                    <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                        <!-- Cabeçalho da Tabela -->
                        <div class="grid grid-cols-14 gap-2 mb-2 text-xs font-semibold text-gray-500 uppercase bg-gray-100 p-2 rounded">
                            <div class="col-span-2">Tipo</div>
                            <div class="col-span-5">Descrição</div>
                            <div class="col-span-2 text-center">Qtd</div>
                            <div class="col-span-2 text-center">Valor Unit.</div>
                            <div class="col-span-2 text-right">Subtotal</div>
                            <div class="col-span-1"></div>
                        </div>
                        <div id="listaItensOS" class="space-y-2 mb-3">
                            <!-- Linha de Item Dinâmica com Subtotal -->
                            <div class="grid grid-cols-14 gap-2 item-os-row items-center bg-white p-2 rounded border border-gray-100">
                                <div class="col-span-2">
                                    <select class="w-full p-2 border rounded text-sm tipo-item focus:ring-2 focus:ring-madeira-media focus:outline-none">
                                        <option value="material">📦 Material</option>
                                        <option value="servico">🔧 Serviço</option>
                                        <option value="mao_obra">👷 Mão de Obra</option>
                                    </select>
                                </div>
                                <div class="col-span-5">
                                    <input type="text" class="w-full p-2 border rounded text-sm desc-item focus:ring-2 focus:ring-madeira-media focus:outline-none" placeholder="Descrição do item">
                                </div>
                                <div class="col-span-2">
                                    <input type="number" class="w-full p-2 border rounded text-sm text-center qtd-item focus:ring-2 focus:ring-madeira-media focus:outline-none" placeholder="0" min="0" oninput="calcularTotalOS()">
                                </div>
                                <div class="col-span-2">
                                    <input type="number" class="w-full p-2 border rounded text-sm text-center val-item focus:ring-2 focus:ring-madeira-media focus:outline-none" placeholder="0.00" min="0" step="0.01" oninput="calcularTotalOS()">
                                </div>
                                <div class="col-span-2 text-right">
                                    <span class="subtotal-item font-semibold text-gray-800">R$ 0,00</span>
                                </div>
                                <div class="col-span-1 flex justify-center">
                                    <button type="button" onclick="removerItemOS(this)" class="text-red-500 hover:text-red-700 p-1 hover:bg-red-50 rounded transition-colors">
                                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <button type="button" onclick="adicionarItemOS()" class="text-sm text-madeira-escura hover:underline font-medium flex items-center gap-1 mt-2 px-2 py-1 hover:bg-madeira-claro rounded transition-colors">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                            Adicionar Item
                        </button>
                    </div>
                </div>

                <!-- Resumo Financeiro -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Resumo de Valores -->
                    <div class="bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200 rounded-xl p-5">
                        <h4 class="font-semibold text-gray-800 mb-4 flex items-center gap-2">
                            <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg>
                            Resumo Financeiro
                        </h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center py-2 border-b border-gray-200">
                                <span class="text-gray-600">Materiais:</span>
                                <span id="totalMateriais" class="font-semibold text-gray-800">R$ 0,00</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-200">
                                <span class="text-gray-600">Serviços/Mão de Obra:</span>
                                <span id="totalServicos" class="font-semibold text-gray-800">R$ 0,00</span>
                            </div>
                            <div class="flex justify-between items-center py-2 border-b border-gray-200">
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-600">Desconto no Pix:</span>
                                    <input type="number" id="inpOsDesconto" class="w-16 p-1 border rounded text-sm text-center focus:ring-2 focus:ring-madeira-media focus:outline-none" placeholder="0" min="0" max="100" value="0" oninput="calcularTotalOS()">
                                    <span class="text-gray-500">%</span>
                                </div>
                                <span id="valorDesconto" class="font-semibold text-red-600">- R$ 0,00</span>
                            </div>
                            <div class="flex justify-between items-center py-3 bg-green-100 rounded-lg px-3 mt-2">
                                <span class="font-bold text-green-800 text-lg">VALOR TOTAL:</span>
                                <span id="totalOSDisplay" class="text-2xl font-bold text-green-800">R$ 0,00</span>
                            </div>
                        </div>
                    </div>

                    <!-- Condições de Pagamento e Entrega -->
                    <div class="space-y-4">
                        <div class="bg-blue-50 border border-blue-200 rounded-xl p-5">
                            <h4 class="font-semibold text-blue-800 mb-3 flex items-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                                Condições de Pagamento
                            </h4>
                            <select id="inpOsCondicao" class="w-full p-2 border border-blue-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-400 focus:outline-none bg-white">
                                <option value="avista">À vista (5% desconto)</option>
                                <option value="50_50" selected>50% entrada + 50% na entrega</option>
                                <option value="30_70">30% entrada + 70% na entrega</option>
                                <option value="30_30_40">30% entrada + 30% produção + 40% entrega</option>
                                <option value="40_30_30">40% entrada + 30% produção + 30% entrega</option>
                                <option value="3x">3x sem juros</option>
                                <option value="6x">6x sem juros</option>
                                <option value="10x">10x com juros (2,5% a.m.)</option>
                                <option value="personalizado">Personalizado</option>
                            </select>
                            <input type="text" id="inpOsCondicaoPersonalizado" class="w-full p-2 border border-blue-300 rounded-lg text-sm mt-2 hidden focus:ring-2 focus:ring-blue-400 focus:outline-none" placeholder="Descreva a condição personalizada...">
                        </div>

                        <div class="bg-orange-50 border border-orange-200 rounded-xl p-5">
                            <h4 class="font-semibold text-orange-800 mb-3 flex items-center gap-2">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                Prazo de Entrega
                            </h4>
                            <div class="flex items-center gap-2">
                                <input type="number" id="inpOsPrazo" class="w-20 p-2 border border-orange-300 rounded-lg text-sm text-center focus:ring-2 focus:ring-orange-400 focus:outline-none" placeholder="25" value="25" min="1">
                                <span class="text-orange-700">dias úteis</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Garantia e Observações -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-purple-50 border border-purple-200 rounded-xl p-5">
                        <h4 class="font-semibold text-purple-800 mb-3 flex items-center gap-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg>
                            Garantia
                        </h4>
                        <select id="inpOsGarantia" class="w-full p-2 border border-purple-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-400 focus:outline-none bg-white">
                            <option value="6">6 meses contra defeitos de fabricação</option>
                            <option value="12" selected>12 meses contra defeitos de fabricação</option>
                            <option value="24">24 meses contra defeitos de fabricação</option>
                            <option value="36">36 meses (garantia estendida)</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Observações Adicionais</label>
                        <textarea id="inpOsObs" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media h-24" placeholder="Detalhes técnicos, observações especiais, restrições de acesso, etc..."></textarea>
                    </div>
                </div>

                <!-- Termos e Condições -->
                <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                    <label class="flex items-start gap-3 cursor-pointer">
                        <input type="checkbox" id="inpOsTermos" class="mt-1 w-4 h-4 text-madeira-escura border-gray-300 rounded focus:ring-madeira-media">
                        <span class="text-sm text-gray-600">
                            <strong>Termos:</strong> Este orçamento é válido por 15 dias. Valores podem sofrer alteração em caso de modificações no projeto. 
                            A montagem será agendada após confirmação do pagamento da entrada. Não nos responsabilizamos por avarias causadas por uso inadequado.
                        </span>
                    </label>
                </div>

                <div class="flex justify-end gap-3 pt-4 border-t border-gray-100">
                    <button type="button" onclick="closeModal('novaOS')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">Cancelar</button>
                    <button type="button" onclick="visualizarOS()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
                        Pré-visualizar
                    </button>
                    <button type="button" onclick="salvarOS()" class="px-4 py-2 bg-madeira-escura text-white rounded-lg hover:bg-madeira-media transition-colors flex items-center gap-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                        Gerar OS
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Novo Sócio -->
    <div id="modalNovoSocio" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl max-w-lg w-full">
            <div class="p-6 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Adicionar Sócio</h3>
                <button onclick="closeModal('novoSocio')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <form class="p-6 space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nome Completo</label>
                        <input type="text" id="inpSocNome" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">CPF</label>
                        <input type="text" id="inpSocCpf" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="000.000.000-00">
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Participação (%)</label>
                        <input type="number" id="inpSocPart" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Pró-labore (R$)</label>
                        <input type="number" id="inpSocProLab" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0.00">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Cargo</label>
                    <select id="inpSocCargo" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                        <option>Sócio Administrador</option>
                        <option>Sócio Quotista</option>
                        <option>Diretor</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Data de Entrada</label>
                    <input type="date" id="inpSocData" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                </div>
                <div class="flex justify-end gap-3 pt-4">
                    <button type="button" onclick="closeModal('novoSocio')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">Cancelar</button>
                    <button type="button" onclick="salvarSocio()" class="px-4 py-2 bg-madeira-escura text-white rounded-lg hover:bg-madeira-media transition-colors">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Novo Funcionário -->
    <div id="modalNovoFuncionario" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Novo Funcionário</h3>
                <button onclick="closeModal('novoFuncionario')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <form class="p-6 space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Nome Completo</label>
                        <input type="text" id="inpFuncNome" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">CPF</label>
                        <input type="text" id="inpFuncCpf" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Cargo</label>
                        <select id="inpFuncCargo" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                            <option>Marceneiro</option>
                            <option>Auxiliar de Marcenaria</option>
                            <option>Montador</option>
                            <option>Designer</option>
                            <option>Administrativo</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Data Admissão</label>
                        <input type="date" id="inpFuncData" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                </div>
                <div class="grid grid-cols-3 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Salário Base (R$)</label>
                        <input type="number" id="inpFuncSalario" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0.00">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Vale Transporte (R$)</label>
                        <input type="number" id="inpFuncVt" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0.00">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Vale Refeição (R$)</label>
                        <input type="number" id="inpFuncVr" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0.00">
                    </div>
                </div>
                <div class="bg-gray-50 rounded-lg p-4">
                    <h4 class="text-sm font-medium text-gray-700 mb-2">Cálculos Automáticos</h4>
                    <div class="grid grid-cols-3 gap-4 text-sm">
                        <div>
                            <span class="text-gray-500">INSS (11%):</span>
                            <span class="font-medium ml-1">R$ 0,00</span>
                        </div>
                        <div>
                            <span class="text-gray-500">FGTS (8%):</span>
                            <span class="font-medium ml-1">R$ 0,00</span>
                        </div>
                        <div>
                            <span class="text-gray-500">Custo Total:</span>
                            <span class="font-medium ml-1 text-red-600">R$ 0,00</span>
                        </div>
                    </div>
                </div>
                <div class="flex justify-end gap-3 pt-4">
                    <button type="button" onclick="closeModal('novoFuncionario')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">Cancelar</button>
                    <button type="button" onclick="salvarFuncionario()" class="px-4 py-2 bg-madeira-escura text-white rounded-lg hover:bg-madeira-media transition-colors">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Novo Bem -->
    <div id="modalNovoBem" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl max-w-lg w-full">
            <div class="p-6 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Adicionar Bem/Patrimônio</h3>
                <button onclick="closeModal('novoBem')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <form class="p-6 space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Descrição do Bem</label>
                    <input type="text" id="inpBemDesc" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="Ex: Seccionadora CNC">
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Categoria</label>
                        <select id="inpBemCat" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                            <option>Máquinas e Equipamentos</option>
                            <option>Veículos</option>
                            <option>Móveis e Utensílios</option>
                            <option>Ferramentas</option>
                            <option>Imóveis</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Data de Aquisição</label>
                        <input type="date" id="inpBemData" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Valor de Aquisição (R$)</label>
                        <input type="number" id="inpBemValor" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="0.00">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-1">Vida Útil (anos)</label>
                        <input type="number" id="inpBemVida" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media" placeholder="10">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Nota Fiscal / Documento</label>
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:bg-gray-50 transition-colors cursor-pointer">
                        <svg class="w-8 h-8 mx-auto text-gray-400 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>
                        <p class="text-sm text-gray-500">Anexar documento</p>
                    </div>
                </div>
                <div class="flex justify-end gap-3 pt-4">
                    <button type="button" onclick="closeModal('novoBem')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">Cancelar</button>
                    <button type="button" onclick="salvarBem()" class="px-4 py-2 bg-madeira-escura text-white rounded-lg hover:bg-madeira-media transition-colors">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Gerar Relatório -->
    <div id="modalGerarRelatorio" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white rounded-xl max-w-md w-full">
            <div class="p-6 border-b border-gray-200 flex justify-between items-center">
                <h3 class="text-xl font-bold text-gray-800">Gerar Relatório DRE</h3>
                <button onclick="closeModal('gerarRelatorio')" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <form class="p-6 space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Período</label>
                    <select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-madeira-media">
                        <option>Mensal - Dezembro 2024</option>
                        <option>Trimestral - Q4 2024</option>
                        <option>Semestral - 2º Sem 2024</option>
                        <option>Anual - 2024</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">Formato</label>
                    <div class="flex gap-4">
                        <label class="flex items-center">
                            <input type="radio" name="formato" value="pdf" class="mr-2" checked> PDF
                        </label>
                        <label class="flex items-center">
                            <input type="radio" name="formato" value="excel" class="mr-2"> Excel
                        </label>
                    </div>
                </div>
                <div>
                    <label class="flex items-center">
                        <input type="checkbox" class="mr-2" checked> Incluir gráficos
                    </label>
                    <label class="flex items-center mt-2">
                        <input type="checkbox" class="mr-2" checked> Incluir comparativo período anterior
                    </label>
                </div>
                <div class="flex justify-end gap-3 pt-4">
                    <button type="button" onclick="closeModal('gerarRelatorio')" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors">Cancelar</button>
                    <button type="button" onclick="closeModal('gerarRelatorio')" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors">Gerar Relatório</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/data.js"></script>
    <script src="js/app.js"></script>
</body>
</html>